!function(){"use strict";angular.module("myComponent.version",[]).value("version","1.2.12"),angular.module("myComponent.version").directive("appVersion",["version",function(e){return function(s,t){t.text(e)}}]),angular.module("directive.chat",["firebase","ngStorage"]).service("$chat",function(e,s,t,o,r,n){var i=this;i.$storage=n;var c,a=null;i.setRoom=function(e){var r=s.defer();r.notify("About to get "+e+".");var n=new Firebase("https://uverse-social.firebaseio.com/chat/rooms/"+e);return i.room=i.$storage[e],t(n).$loaded().then(function(s){i.room=s,void 0===s.name?(s.name=e,s.messages={},s.users={},s.childRooms={},s.$save().then(function(){i.messages=o(n.child("messages")),c=o(n.child("users")),a=o(n.child("childRooms")),r.resolve(i)},function(s){r.reject("Failed new room: "+e+" for reason: "+s)})):(i.messages=o(n.child("messages")),c=o(n.child("users")),a=o(n.child("childRooms")),r.resolve(i))},function(s){r.reject("Failed getting existing room: "+e+" for reason: "+s)}),r.promise},i.sendMessage=function(s){if("/"===s.substring(0,1)){if("/video"===s.substring(0,6))return s="",{video:s.substring(7)}}else{var t=(new Date).toLocaleTimeString().replace(/:\d+ /," "),o={message:s,usericon:r.user.icon,date:t,userid:r.user.name};e.log("addMessage:"+o),i.messages.$add(o).then(function(t){e.log("addedMessage:"+t),s=""},function(s){e.warn("Failed save new user: "+r.user.name+" for reason: "+s)})}}}).directive("chatlist",function(){return{restrict:"E",priority:-100,templateUrl:"bower_components/chat-component/dist/chat/message-list.html",scope:{messages:"=messages"}}}).directive("peoplelist",function(){return{restrict:"E",priority:-100,scope:{users:"=users"},templateUrl:"bower_components/chat-component/dist/chat/people-list.html"}}),angular.module("directive.layout",[]).config(function(e){e.resourceUrlWhitelist(["self","https://www.youtube.com/**"])}).directive("responsivevideo",function(e){return{restrict:"E",transclude:!0,priority:-100,scope:{embedcode:"@"},templateUrl:"bower_components/chat-component/dist/layout/responsive-video.html",link:function(s){s.$watch("embedcode",function(t){t&&(s.url=e.trustAsResourceUrl("http://www.youtube.com/embed/"+t))})}}})}();